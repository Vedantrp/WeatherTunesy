<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WeatherTunes</title>
  <style>
    :root { color-scheme: dark; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:#111; color:#eee; }
    .wrap { max-width: 900px; margin: 24px auto; padding: 16px; }
    h1 { margin: 0 0 10px; font-weight: 700; }
    .row { display:flex; gap:8px; flex-wrap: wrap; margin: 12px 0; }
    input, select, button {
      background:#1b1b1b; border:1px solid #2a2a2a; color:#eee; padding:10px 12px; border-radius:10px; outline:none;
    }
    button { cursor: pointer; }
    button[disabled] { opacity: .5; cursor: not-allowed; }
    .card { background:#151515; border:1px solid #242424; border-radius:14px; padding:14px; margin: 14px 0; }
    .hidden { display:none; }
    .tracks { list-style:none; margin:0; padding:0; max-height: 360px; overflow:auto; }
    .tracks li { padding:8px 10px; border-bottom:1px solid #262626; }
    .muted { color:#9a9a9a; font-size: 12px; }
    .error { background:#2a1313; border:1px solid #6d2a2a; color:#ffdada; padding:10px 12px; border-radius:10px; margin:10px 0; }
    .success { background:#13301e; border:1px solid #2e6d48; color:#cff5dd; padding:10px 12px; border-radius:10px; margin:10px 0; }
    .pill { display:inline-block; background:#202020; border:1px solid #2f2f2f; padding:4px 8px; border-radius:999px; font-size:12px; margin-right:6px; }
    /* Mood dropdown hover/focus polish */
    #moodSelect { transition: border-color .2s, background .2s; }
    #moodSelect:hover { border-color:#3a3a3a; }
    #moodSelect:focus { border-color:#1db954; background:#181818; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ğŸŒ¤ï¸ WeatherTunes</h1>
    <div class="row">
      <button id="loginBtn">Login with Spotify</button>
      <div id="userBox" class="hidden">
        <span id="userName" class="pill"></span>
        <button id="logoutBtn">Logout</button>
      </div>
    </div>

    <div id="error" class="error hidden"></div>
    <div id="notice" class="success hidden"></div>

    <div class="card">
      <div class="row">
        <input id="city" placeholder="City (e.g., Mumbai)" />
        <select id="language">
          <option value="english">English</option>
          <option value="hindi">Hindi</option>
          <option value="punjabi">Punjabi</option>
          <option value="tamil">Tamil</option>
          <option value="telugu">Telugu</option>
          <option value="spanish">Spanish</option>
          <option value="korean">Korean</option>
          <option value="japanese">Japanese</option>
          <option value="french">French</option>
          <option value="german">German</option>
          <option value="italian">Italian</option>
          <option value="chinese">Chinese</option>
        </select>

        <!-- âœ… Mood dropdown added -->
        <select id="moodSelect" title="Pick a mood">
          <option value="balanced" selected>ğŸŒ¤ï¸ Balanced</option>
          <option value="relaxed">ğŸ˜Œ Relaxed</option>
          <option value="cozy">â˜• Cozy</option>
          <option value="upbeat">ğŸ˜ Upbeat</option>
          <option value="romantic">â¤ï¸ Romantic</option>
          <option value="party">ğŸ‰ Party</option>
          <option value="workout">ğŸ’ª Workout</option>
          <option value="focus">ğŸ§  Focus</option>
          <option value="sleep">ğŸ˜´ Sleep</option>
          <option value="energetic">âš¡ Energetic</option>
          <option value="intense">ğŸ”¥ Intense</option>
          <option value="tropical">ğŸŒ´ Tropical</option>
          <option value="mysterious">ğŸŒ«ï¸ Mysterious</option>
        </select>

        <button id="goBtn">Get Weather & Songs</button>
      </div>

      <div id="loading" class="muted hidden">Loadingâ€¦</div>

      <div id="weather" class="hidden">
        <div><strong>Weather:</strong> <span id="wText"></span></div>
        <div><strong>Temp:</strong> <span id="wTemp"></span> Â°C</div>
        <div><strong>Mood:</strong> <span id="mood" class="pill"></span><span id="lang" class="pill"></span></div>
      </div>
    </div>

    <div id="tracksCard" class="card hidden">
      <div class="row" style="justify-content:space-between; align-items:center;">
        <div><strong>Recommended Tracks</strong> <span class="muted">(aiming 35)</span></div>
        <button id="createBtn" disabled>Create Spotify Playlist</button>
      </div>
      <ul id="tracks" class="tracks"></ul>
      <div id="createdBox" class="success hidden">
        Playlist created: <a id="playlistLink" href="#" target="_blank" rel="noopener">Open in Spotify â†’</a>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
