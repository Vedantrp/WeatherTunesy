<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WeatherTunes Premium</title>
  <style>
    :root { color-scheme: dark; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:#0f1115; color:#eef2f7; }
    .wrap { max-width: 960px; margin: 24px auto; padding: 18px; }
    h1 { margin: 0 0 12px; font-weight: 800; }
    .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    input, select, button { background:#121520; border:1px solid #23273a; color:#eef2f7; padding:10px 12px; border-radius:12px; outline:none; }
    button { cursor: pointer; }
    button[disabled] { opacity:.5; cursor:not-allowed; }
    .card { background:#0f1421; border:1px solid #20263b; border-radius:16px; padding:16px; margin: 14px 0; }
    .section-title { font-weight:700; margin-bottom:8px; }
    .pill { display:inline-block; background:#131a2a; border:1px solid #233052; padding:4px 10px; border-radius:999px; font-size:12px; margin-right:6px; }
    .muted { color:#9fb0c9; font-size:12px; }
    .error { background:#2a1417; border:1px solid #6d2a33; color:#ffd7dd; padding:10px 12px; border-radius:10px; margin:10px 0; }
    .success { background:#132b1e; border:1px solid #2d6d48; color:#d2f5dd; padding:10px 12px; border-radius:10px; margin:10px 0; }
    .tracks { list-style:none; margin:0; padding:0; max-height: 360px; overflow:auto; border:1px solid #222a3d; border-radius:12px; }
    .tracks li { padding:10px 12px; border-bottom:1px solid #20263b; }
    .toolbar button { background:#1a2030; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üå§Ô∏è WeatherTunes Premium</h1>

    <div class="row">
      <button id="loginBtn">Login with Spotify</button>
      <div id="userBox" class="row" style="display:none;">
        <span id="userName" class="pill"></span>
        <button id="logoutBtn">Logout</button>
      </div>
    </div>

    <div id="error" class="error" style="display:none;"></div>
    <div id="notice" class="success" style="display:none;"></div>

    <div class="card">
      <div class="row">
        <input id="city" placeholder="City (e.g., Mumbai)" />
        <select id="language">
          <option value="english">English</option>
          <option value="hindi">Hindi</option>
          <option value="punjabi">Punjabi</option>
          <option value="tamil">Tamil</option>
          <option value="telugu">Telugu</option>
          <option value="spanish">Spanish</option>
          <option value="korean">Korean</option>
          <option value="japanese">Japanese</option>
          <option value="french">French</option>
          <option value="german">German</option>
          <option value="italian">Italian</option>
          <option value="chinese">Chinese</option>
        </select>
        <button id="goBtn">Get Weather & Songs</button>
      </div>
      <div class="row toolbar">
        <button id="refineChill">Refine: More Chill</button>
        <button id="refineEnergy">Refine: More Energy</button>
        <button id="surprise">Surprise Me</button>
        <button id="savePreset">Save Preset</button>
        <button id="loadPreset">Load Preset</button>
      </div>
      <div id="loading" class="muted" style="display:none;">Loading‚Ä¶</div>
      <div id="weather" style="display:none;">
        <div><span class="section-title">Weather</span></div>
        <div><strong>Now:</strong> <span id="wText"></span> ‚Äî <strong>Temp:</strong> <span id="wTemp"></span> ¬∞C</div>
        <div style="margin-top:6px;">
          <span class="pill" id="mood"></span>
          <span class="pill" id="lang"></span>
        </div>
      </div>
    </div>

    <div id="tracksCard" class="card" style="display:none;">
      <div class="row" style="justify-content:space-between;">
        <div class="section-title">Recommended Tracks <span class="muted">(35)</span></div>
        <button id="createBtn" disabled>Create Spotify Playlist</button>
      </div>
      <ul id="tracks" class="tracks"></ul>
      <div id="createdBox" class="success" style="display:none;">
        Playlist created: <a id="playlistLink" href="#" target="_blank" rel="noopener">Open in Spotify ‚Üí</a>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
